<!--This Document is generated by GameMaker, if you edit it by hand then you do so at your own risk!-->
<object>
  <spriteName>&lt;undefined&gt;</spriteName>
  <solid>0</solid>
  <visible>-1</visible>
  <depth>0</depth>
  <persistent>0</persistent>
  <parentName>&lt;undefined&gt;</parentName>
  <maskName>&lt;undefined&gt;</maskName>
  <events>
    <event eventtype="0" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>// in seconds
text_fadein_delay = 0.4;
text_fadein_time = 0.8;
text_fadein_delay_steps = text_fadein_delay * room_speed;
text_fadein_time_steps = text_fadein_time * room_speed;
alpha_step = -text_fadein_delay_steps;

boxes[0] = rect(290, 400, 590, 450);
boxes[1] = rect(290, 460, 590, 510);
boxes[2] = rect(290, 520, 590, 570);

page_idx = 1;

pages_to_flip = 0;
flip_direction = 1;
page_flip_time = 0.2;
page_flip_time_steps = page_flip_time * room_speed;
page_flip_step = 0;
can_page_flip = true;

audio_play_sound(bgm_01, 0, true);

page = ds_map_create();
page[? "story"] = "Welcome. In front of you, there are two paths. The path on the left leads to a forbidding doorway with 'Do Not Enter' carved into it. The path on the right looks much better.";
page[? "path1"] = " if you choose the left path.";
page[? "path1_page"] = 2;
page[? "path2"] = " if you choose right, which is obviously better.";
page[? "path2_page"] = 3;
page[? "display_page"] = 1;
page[? "art"] = spr_p_01;
story[1] = page;

page = ds_map_create();
page[? "story"] = "You chose left, which seems like a bad move.";
page[? "path1"] = " if you want to return to the start, and reconsider the poor choice you made.";
page[? "path1_page"] = 1;
page[? "path2"] = " if you want to proceed with this poor choice, and inevitably to your death.";
page[? "path2_page"] = 4;
page[? "display_page"] = 2;
page[? "art"] = spr_p_02;
story[2] = page;

page = ds_map_create();
page[? "story"] = "Great choice! You are on the path to victory. Just one more step and you will win the game.#Just before you take the final step, you spy a door to your right, bound with chains and adorned with evil spikes. Moving closer, you see a tattered scrap of paper lying on the floor next to the door.";
page[? "path1"] = " if you want to ignore the door, continue forward, and win.";
page[? "path1_page"] = 5;
page[? "path2"] = " if you want to examine the scrap of paper.";
page[? "path2_page"] = 6;
page[? "path3"] = " if you want to use your Magic Sword to remove the chains.";
page[? "path3_page"] = 7;
page[? "display_page"] = 30;
page[? "art"] = spr_p_03;
story[3] = page;

page = ds_map_create();
page[? "story"] = "Passing under the doorway, you find yourself in a dark and windy corridor of a sinister forest.# #As you jog down the forest path, you suddenly hear a loud swoosh in the distance, followed by a blinding starburst of light!";
page[? "path1"] = " if you want to investigate the mysterious event.";
page[? "path1_page"] = 8;
page[? "path2"] = " if you want to hide behind some nearby bushes.";
page[? "path2_page"] = 9;
page[? "path3"] = " if you want to turn back and run away.";
page[? "path3_page"] = 10;
page[? "display_page"] = 27;
page[? "art"] = spr_p_04;
story[4] = page;

page = ds_map_create();
page[? "story"] = "Well I guess this means that you won. What a great adventure, coward.";
page[? "path1"] = " for the end credits.";
page[? "path1_page"] = 11;
page[? "display_page"] = 11;
page[? "art"] = spr_p_11;
story[5] = page;

page = ds_map_create();
page[? "story"] = "You pick up the scrap of paper.#It reads:# #'Never Trust Your Instincts'# #... and you begin wondering what all this means.";
page[? "path1"] = " if you want to wait and see...";
page[? "path1_page"] = 13;
page[? "path2"] = " if you want to use your Magic Sword to remove the chains.";
page[? "path2_page"] = 7;
page[? "path3"] = " if you want to ignore all this nonsense and take the final step to victory.";
page[? "path3_page"] = 5;
page[? "display_page"] = 23;
page[? "art"] = spr_p_08
story[6] = page;

page = ds_map_create();
page[? "story"] = "You unsheathe your Magic Sword, letting it's holy light bathe you in it's warm radiance. With one quick swipe, you cut through the chains holding the door closed. As the chains fall, the door explodes! A starburst of light bursts forth, blinding you momentarily.# #As your vision recovers, you see standing in the distance a man... or a woman, you're not quite sure... but you are certain that the stranger sees you wielding the Magic Sword, which shines so bright.";
page[? "path2"] = " to approach the stranger warily, with your weapon ready by your side.";
page[? "path2_page"] = 14;
page[? "path3"] = " to conceal your weapon first before approaching the stranger.";
page[? "path3_page"] = 15;
page[? "display_page"] = 31;
page[? "art"] = spr_p_07;
story[7] = page;

page = ds_map_create();
page[? "story"] = "Nearing the source of the disturbance, you see smoke and light billowing out of an open door. As the smoke clears, you spy a man... or a woman, you're not quite sure... framed within the doorway. The stranger is wielding a blade of pure magic, glowing so brightly that his or her features can't be seen. You are certain of one thing - you have the exact blade in your backpack, and only one exists in the entire known world. Who is this imposter?";
page[? "path1"] = " to prepare your blade and confront this stranger.";
page[? "path1_page"] = 16;
page[? "path2"] = " to load your rifle and shoot the stranger from a safe distance.";
page[? "path2_page"] = 17;
page[? "path3"] = " to approach the stranger in a non confrontational manner, keeping your blade stashed in your backpack";
page[? "path3_page"] = 18;
page[? "display_page"] = 13;
page[? "art"] = spr_p_07;
story[8] = page;

page = ds_map_create();
page[? "story"] = "Hiding in the bushes, you see a stranger wielding a blade of pure magic, glowing so brightly that his or her features can't be seen. You are certain of only one thing - you have the exact same blade in your backpack, and only one exists in the entire known world. Who is this imposter?";
page[? "path1"] = " to prepare your blade and confront this stranger.";
page[? "path1_page"] = 16;
page[? "path2"] = " to load your rifle and shoot the stranger from a safe distance.";
page[? "path2_page"] = 17;
page[? "path3"] = " to approach the stranger in a non confrontational manner, keeping your blade stashed in your backpack";
page[? "path3_page"] = 18;
page[? "display_page"] = 19;
page[? "art"] = spr_p_09;
story[9] = page;

page = ds_map_create();
page[? "story"] = "Before you could escape, you hear the sound of footsteps quickly approaching. Turning around, you see a stranger wielding a blade of pure magic, glowing so brightly that you can't make out his or her features. You are certain of only one thing - you have the exact same blade in your backpack, and only one exists in the entire known world. Who is this imposter?";
page[? "path1"] = " to prepare your blade and confront this stranger.";
page[? "path1_page"] = 16;
page[? "path2"] = " to load your rifle and shoot the stranger from a safe distance.";
page[? "path2_page"] = 17;
page[? "path3"] = " to approach the stranger in a non confrontational manner, keeping your blade stashed in your backpack";
page[? "path3_page"] = 18;
page[? "display_page"] = 4;
page[? "art"] = spr_p_07;
story[10] = page;

page = ds_map_create();
page[? "story"] = "There are no end credits, cos' your adventure sux.# #THE END";
page[? "path1"] = " to restart your adventure.";
page[? "path1_page"] = 1;
page[? "display_page"] = 12;
page[? "art"] = spr_p_36;
story[11] = page;

page = ds_map_create();
page[? "story"] = "You stuff the scrap of paper into your mouth and start chewing. As you slowly chew through the note, you begin to recount all the life choices you've made that led to this point... your palms are sweaty... knees weak, arms are heavy... and there's vomit all over your sweater already!#The note was obviously laced with poison!";
page[? "path1"] = " to do nothing and accept your inevitable death.";
page[? "path1_page"] = 19;
page[? "path2"] = " to wield your Magic Sword, knowing that its magic is the only thing that can save you now!";
page[? "path2_page"] = 20;
page[? "display_page"] = 15;
page[? "art"] = spr_p_12
story[12] = page;

page = ds_map_create();
page[? "story"] = "Nothing happened... and you got pretty hungry with all the waiting.";
page[? "path1"] = " to eat the note. Perhaps this would do something?";
page[? "path1_page"] = 12;
page[? "path2"] = " if you want to ignore your hunger and press on toward victory.";
page[? "path2_page"] = 5;
page[? "display_page"] = 5;
page[? "art"] = spr_p_13
story[13] = page;

page = ds_map_create();
page[? "story"] = "The stranger, sensing your hostility, brandishes a Magic Sword, which seems identical to your own! Could the stranger be wielding the same sword as yours, when only one such sword exists in the known world?";
page[? "path1"] = " to shout 'THERE CAN BE ONLY ONE!'";
page[? "path1_page"] = 21;
page[? "path2"] = " to sheath your sword, as a sign of peace, to see if the stranger does the same.";
page[? "path2_page"] = 18;
page[? "path3"] = " to swap to your rifle and shoot the stranger from a safe distance.";
page[? "path3_page"] = 17;
page[? "display_page"] = 21;
page[? "art"] = spr_p_07;
story[14] = page;

page = ds_map_create();
page[? "story"] = "You begin approaching the stranger.# #Suddenly, the stranger pulls out rifle and aims it at you. Before you can react, the sharp crack of a gunshot pierces the air!";
page[? "path1"] = " ...!";
page[? "path1_page"] = 22;
page[? "display_page"] = 8;
page[? "art"] = spr_p_06;
story[15] = page;

page = ds_map_create();
page[? "story"] = "The stranger shouts:# #'THERE CAN BE ONLY ONE!'";
page[? "path1"] = " to charge towards him and unleash your FURY!";
page[? "path1_page"] = 23;
page[? "display_page"] = 18;
page[? "art"] = spr_p_07;
story[16] = page;

page = ds_map_create();
page[? "story"] = "You take aim with your rifle and fire... only to realise how foolish you were, but it was too late. The magical enchantment deflects the bullet, diverting it back to you...";
page[? "path1"] = " ...!";
page[? "path1_page"] = 22;
page[? "display_page"] = 6;
page[? "art"] = spr_p_06;
story[17] = page;

page = ds_map_create();
page[? "story"] = "You move towards the stranger, who notices your peaceful approach and withdraws his weapon.  The magical light dims, revealing a person whose features are exactly similar to yours - your doppelganger."
page[? "path1"] = " to ask, 'Who are you?'";
page[? "path1_page"] = 24;
page[? "path2"] = " to use your rifle to shoot your doppelganger!";
page[? "path2_page"] = 25;
page[? "display_page"] = 7;
page[? "art"] = spr_p_07a;
story[18] = page;

page = ds_map_create();
page[? "story"] = "You died, poisoned by your enemies. This is the end of your journey.";
page[? "path1"] = " to restart.";
page[? "path1_page"] = 1;
page[? "display_page"] = 9;
page[? "art"] = spr_p_33;
story[19] = page;

page = ds_map_create();
page[? "story"] = "Wielding your Magical Sword, the protective enchantment absorbs all the poison from your body, saving you from the brink of death.";
page[? "path1"] = " to remove the chains binding the door.";
page[? "path1_page"] = 26;
page[? "path2"] = " to ignore the door and take the final step to victory, after learning your lesson.";
page[? "path2_page"] = 5;
page[? "display_page"] = 25;
page[? "art"] = spr_p_07;
story[20] = page;

page = ds_map_create();
page[? "story"] = "Uplifted by your warcry, you charge towards the enemy, who does the same. As your swords touch, in a burst of bright light and explosion... ";
page[? "path1"] = " ...!";
page[? "path1_page"] = 27;
page[? "display_page"] = 29;
page[? "art"] = spr_p_23;
story[21] = page;

page = ds_map_create();
page[? "story"] = "The bullet pierced your heart, immediately ending your life.# #THE END";
page[? "path1"] = " ... End Credits?!";
page[? "path1_page"] = 28;
page[? "display_page"] = 28;
page[? "art"] = spr_p_28
story[22] = page;

page = ds_map_create();
page[? "story"] = "The stranger charges towards you. As your swords touch, in a burst of bright light and explosion... ";
page[? "path1"] = " ...!";
page[? "path1_page"] = 27;
page[? "display_page"] = 10;
page[? "art"] = spr_p_23;
story[23] = page;

page = ds_map_create();
page[? "story"] = "'Who am I?' answered the doppelganger. 'I should be asking this question! You aren't me, right?'#Sensing that the doppelganger is as baffled as you, you decided ...";
page[? "path1"] = " to shout, 'ENOUGH OF TALKING!', and challenge the doppelganger to a duel.";
page[? "path1_page"] = 21;
page[? "path2"] = " to reply: 'I am you, it seems.'";
page[? "path2_page"] = 29;
page[? "display_page"] = 24;
page[? "art"] = spr_p_24;
story[24] = page;

page = ds_map_create();
page[? "story"] = "You take aim and shoot the stranger with your rifle, who immediately collapses in a pool of blood. You approach the lifeless body, wondering if this was the right choice, but you suddenly remember there's another Magic Sword for you to loot.";
page[? "path1"] = " to loot the other Magic Sword.";
page[? "path1_page"] = 30;
page[? "display_page"] = 26;
page[? "art"] = spr_p_28;
story[25] = page;

page = ds_map_create();
page[? "story"] = "You swing your blade in an attempt to cut the chains, but to no avail. The powers of the Magic Sword have been completely drained in the attempt to save your life from the poisonous note which you ate. You decide that you should carve a warning sign on this wretched door.";
page[? "path1"] = " to carve: 'Never Trust Your Instincts'";
page[? "path1_page"] = 31;
page[? "path2"] = " to carve: 'Do Not Enter'";
page[? "path2_page"] = 32;
page[? "display_page"] = 20;
page[? "art"] = spr_p_07;
story[26] = page;

page = ds_map_create();
page[? "story"] = "The swords shattered and exploded, killing everyone in the process.";
page[? "path1"] = " ...I died?!";
page[? "path1_page"] = 33;
page[? "display_page"] = 14;
page[? "art"] = spr_p_14;
story[27] = page;

page = ds_map_create();
page[? "story"] = "POST CREDITS SCENE:#The stranger walked over to your corpse and looted your Magic Sword, loser.";
page[? "path1"] = " to restart your adventure.";
page[? "path1_page"] = 1;
page[? "display_page"] = 32;
page[? "art"] = spr_p_32
story[28] = page;

page = ds_map_create();
page[? "story"] = "'If I'm you, then you must be the imposter!' cried the doppelganger.";
page[? "path1"] = " to work out an amicable peaceful solution.";
page[? "path1_page"] = 34;
page[? "path2"] = " to shout: 'YOU ARE THE IMPOSTER!'";
page[? "path2_page"] = 16;
page[? "display_page"] = 16;
page[? "art"] = spr_p_07a;
story[29] = page;

page = ds_map_create();
page[? "story"] = "You pick up the sword from the lifeless body, and continued on your adventure as a dual wielding magical swordsman. You are now the most powerful swordsman in the world... as long as no one knows about the truth...";
page[? "path1"] = " for the post credits scene...";
page[? "path1_page"] = 35;
page[? "display_page"] = 17;
page[? "art"] = spr_p_32
story[30] = page;

page = ds_map_create();
page[? "story"] = "You tried to carve 'Never Trust Your Instincts' on the door, but failed as there was not enough space. You decided to write a note and paste it onto the door instead.";
page[? "path1"] = " to continue on the path to victory.";
page[? "path1_page"] = 5;
page[? "display_page"] = 3;
page[? "art"] = spr_p_08;
story[31] = page;

page = ds_map_create();
page[? "story"] = "You carved the words 'Do not enter' on the door.";
page[? "path1"] = " to resume your path to victory.";
page[? "path1_page"] = 5;
page[? "display_page"] = 22;
page[? "art"] = spr_p_22;
story[32] = page;

page = ds_map_create();
page[? "story"] = "Yes you died.";
page[? "path1"] = " to restart your adventure.";
page[? "path1_page"] = 1;
page[? "display_page"] = 33;
page[? "art"] = spr_p_33;
story[33] = page;

page = ds_map_create();
page[? "story"] = "After a long discussion to settle your differences, you and your doppelganger decided to work together, forming the most powerful alliance ever.";
page[? "path1"] = " to pick an opportune moment to assassinate your doppelganger.";
page[? "path1_page"] = 30;
page[? "path2"] = " if you trust that your doppelganger would never resort to such underhanded means.";
page[? "path2_page"] = 36;
page[? "display_page"] = 34;
page[? "art"] = spr_p_24;
story[34] = page;

page = ds_map_create();
page[? "story"] = "Not long after, yours swords accidentally touch, exploding and vaporising you in the process.";
page[? "path1"] = " Am I dead...?";
page[? "path1_page"] = 33;
page[? "display_page"] = 35;
page[? "art"] = spr_p_14;
story[35] = page;

page = ds_map_create();
page[? "story"] = "Just as you turn your back, someone stabs you from behind, ending your life.";
page[? "path1"] = " ... End?";
page[? "path1_page"] = 28;
page[? "display_page"] = 36;
page[? "art"] = spr_p_14;
story[36] = page;

</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="3" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>current_page = story[page_idx];
current_page_art = current_page[? "art"];
current_page_number = current_page[? "display_page"];
current_story = current_page[? "story"];

text_alpha = clamp(alpha_step++ / text_fadein_time_steps, 0, 1);

drawbox = noone;

for (i = 0; i &lt; 3; i++) {
    drawpaths[i] = noone;
    if (ds_map_exists(current_page, "path" + string(i + 1))) {
        path_story = current_page[? "path" + string(i + 1)];
        next_page_idx = current_page[? "path" + string(i + 1) + "_page"]
        next_page = story[next_page_idx];
        next_page_number = next_page[? "display_page"]
        
        var drawpath = ds_map_create();
        drawpath[? "next_page_number"] = next_page_number;
        drawpath[? "path_story"] = path_story;
        drawpaths[i] = drawpath;
            
        box = boxes[i];
        if (mouse_x &gt; box[? "x1"] &amp;&amp; 
            mouse_x &lt; box[? "x2"] &amp;&amp; 
            mouse_y &gt; box[? "y1"] &amp;&amp;
            mouse_y &lt; box[? "y2"]) {
            drawbox = box;
    
            if (mouse_check_button_released(mb_left)) {
                page_idx = next_page_idx;

                var page_difference = next_page_number - current_page_number;
                if (page_difference &lt; 0) {
                    page_difference = -page_difference;
                    flip_direction = -1;
                } else {
                    flip_direction = 1;
                }

                if (page_difference &lt;= 1) pages_to_flip = 1;
                else if (page_difference &lt;= 8) pages_to_flip = 2;
                else if (page_difference &lt;= 15) pages_to_flip = 3;
                else pages_to_flip = 4;

                alpha_step = -(text_fadein_delay_steps + 
                    (pages_to_flip * page_flip_time_steps));
            }
        }
    }
}

if (!can_page_flip &amp;&amp; page_flip_step++ &gt; page_flip_time_steps) {
    can_page_flip = true;
    page_flip_step = 0;
}

if (pages_to_flip &gt; 0 &amp;&amp; can_page_flip) {
    can_page_flip = false;
    pages_to_flip--;
    page_animation = instance_create(x, y, obj_page)
    if (flip_direction &lt; 0) {
        page_animation.image_speed = -page_animation.image_speed;
        page_animation.image_index = page_animation.image_number;
    }
}

</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="8" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>draw_set_color(c_black);
draw_set_alpha(text_alpha);
draw_set_font(font0);
draw_set_halign(fa_left);
draw_set_valign(fa_top);

draw_text(282, 620, string(current_page_number));
draw_text_ext(290, 200, string(current_story), 20, 300);

if (current_page_art != noone) {
    draw_sprite(spr_p_bg,0,618,126)
    draw_sprite(current_page_art, 0, 618, 126)
}

if (drawbox != noone) {
    draw_set_color(c_green)
    //draw_rectangle(drawbox[? "x1"], drawbox[? "y1"], drawbox[? "x2"], drawbox[? "y2"], true)
    draw_sprite(spr_box,image_index,drawbox[? "x1"], drawbox[? "y1"])
    draw_set_color(c_black) 
}

for (i = 0; i &lt; 3; i++) {
    if (drawpaths[i] != noone) {
        drawpath = drawpaths[i];
        box = boxes[i];
        draw_text_ext(
            box[? "x1"], box[? "y1"], 
            "Turn to page " + string(drawpath[? "next_page_number"]) + string(drawpath[? "path_story"]),
            20, 300);
    }
}

</string>
          </argument>
        </arguments>
      </action>
    </event>
  </events>
  <PhysicsObject>0</PhysicsObject>
  <PhysicsObjectSensor>0</PhysicsObjectSensor>
  <PhysicsObjectShape>0</PhysicsObjectShape>
  <PhysicsObjectDensity>0.5</PhysicsObjectDensity>
  <PhysicsObjectRestitution>0.100000001490116</PhysicsObjectRestitution>
  <PhysicsObjectGroup>0</PhysicsObjectGroup>
  <PhysicsObjectLinearDamping>0.100000001490116</PhysicsObjectLinearDamping>
  <PhysicsObjectAngularDamping>0.100000001490116</PhysicsObjectAngularDamping>
  <PhysicsObjectFriction>0.200000002980232</PhysicsObjectFriction>
  <PhysicsObjectAwake>-1</PhysicsObjectAwake>
  <PhysicsObjectKinematic>0</PhysicsObjectKinematic>
  <PhysicsShapePoints/>
</object>
